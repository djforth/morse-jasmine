(function(global,factory){if('function'==typeof define&&define.amd)define(['module','exports','lodash/isUndefined','lodash/find','lodash/map','./spy_manager'],factory);else if('undefined'!=typeof exports)factory(module,exports,require('lodash/isUndefined'),require('lodash/find'),require('lodash/map'),require('./spy_manager'));else{var mod={exports:{}};factory(mod,mod.exports,global.isUndefined,global.find,global.map,global.spy_manager),global.stub_chain_methods=mod.exports}})(this,function(module,exports,_isUndefined2,_find2,_map2,_spy_manager){'use strict';function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function buildConstructor(construct,methods){spyManager.addSpy(construct),spyManager.addSpy(methods);var obj={},spies=(0,_map3.default)(methods,function(m){var spy=spyManager.getSpy(m);return obj[m]=function(){return spy.apply(this,arguments),obj},{title:m,spy:spy}});return{title:construct,fn:function con(){return spyManager.getSpy(construct).apply(this,arguments),obj},spy:spyManager.getSpy(construct),spies:spies}}function find(spies,title){return(0,_find3.default)(spies,function(spy){return spy.title===title})}Object.defineProperty(exports,'__esModule',{value:!0});var _isUndefined3=_interopRequireDefault(_isUndefined2),_find3=_interopRequireDefault(_find2),_map3=_interopRequireDefault(_map2),_spy_manager2=_interopRequireDefault(_spy_manager),spyManager=(0,_spy_manager2.default)();exports.default=function chain(){var spies=[],obj={addConstructor:function(construct,methods){return spies.push(buildConstructor(construct,methods)),obj},getConstructor:function(construct){var mock=find(spies,construct);return(0,_isUndefined3.default)(mock)?void 0:mock.fn},getSpy:function(construct){var spy=find(spies,construct);return(0,_isUndefined3.default)(spy)?void 0:spy.spy},getMethod:function(construct,method){var methods=find(spies,construct);if(!(0,_isUndefined3.default)(methods)){methods=methods.spies;var spy=find(methods,method);return(0,_isUndefined3.default)(spy)?void 0:spy.spy}},removeAll:function(){spies=[]}};return obj}(),module.exports=exports['default']});